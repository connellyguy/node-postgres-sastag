<% include partials/header-top-half.ejs %>

<!-- Analytics stylesheet -->
<link rel="stylesheet" href="/css/analytics.css"/>

<!-- Analytics Sidebar stylesheet -->
<link rel="stylesheet" href="/css/analytics-sidebar.css"/>

<!-- Chart.js stylesheet -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.css" integrity="sha256-aa0xaJgmK/X74WM224KMQeNQC2xYKwlAt08oZqjeF0E=" crossorigin="anonymous" />

<% include partials/header-bottom-half.ejs %>
<div class="container-fluid wrapper dash-wrapper">
    <nav class="px-0 bg-light col-sm-3 col-lg-2 sidebar" id="sidebar">
        <div class="sidebar-sticky">
            <div id="dismiss">
                <a href="#"><span data-feather="arrow-left"></span></a>
            </div>
            <div class="sidebar-header mx-4">
                <h3 class="text-muted">Analytics Dashboard</h3>
            </div>
            <ul class="nav flex-column">
                <li class="nav-item mt-4 mx-3">
                    <form>
                        <div class="form-row mb-3">
                            <select id="timeframeFilter" class="form-control">
                                <option value="1 week">1 Week</option>
                                <option value="2 weeks">2 Weeks</option>
                                <option value="3 weeks">3 Weeks</option>
                                <option value="1 month">1 Month</option>
                                <option value="2 months">2 Months</option>
                                <option value="3 months">3 Months</option>
                                <option value="6 months">6 Months</option>
                                <option selected value="all">All Time</option>
                            </select>
                        </div>
                    </form>
                    <!--<button id="apply_filter" class="btn btn-outline-secondary">Apply Filter</button>-->
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">
                        <span data-feather="grid"></span>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <div class="sidebar-accordion">
                        <a class="nav-link" data-toggle="collapse" href="#playersCard" role="button" aria-expanded="false" aria-controls="collapseExample">
                            <span data-feather="plus-square" id="players-plus"></span><span data-feather="minus-square" class="d-none" id="players-minus"></span> Players
                        </a>
                        <div class="collapse navbar-collapse" id="playersCard">
                            <ul class="ml-5 py-1 nav nav-sublist" id="nav-players-list">
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <main role="main" class="col mx-auto px-4 main">
        <div class="row mx-sm-auto mx-lg-5">
            <div id="timeline" class="fullwidth-chart chart-holder" style="height: 520px;"></div>
        </div>
            <div class="row">
                <div class="col-lg-6">
                    <div class="mb-lg-4 chart-holder" id="longtimeDiv">
                        <canvas id="longtimeChart"></canvas>
                    </div>
                    <!--<div class="table-responsive-md">
                        <table id="longtimeTable" class="table table-hovered table-responsive-md table-striped shadow">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col" style="width:10% !important">Rank</th>
                                    <th scope="col" style="width:55% !important">Player</th>
                                    <th scope="col" class="text-right" style="width:35% !important">Total Time as IT</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>
                        </table>
                    </div>-->
                </div>
                <div class="col-lg-6">
                    <div class="mb-lg-4 chart-holder" id="shortavgDiv">
                        <canvas id="shortavgChart"></canvas>
                    </div>
                    <!--<div class="table-responsive-md">
                        <table id="shortavgTable" class="table table-hovered table-responsive-md table-striped shadow">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col" style="width:10% !important">Rank</th>
                                    <th scope="col" style="width:55% !important">Player</th>
                                    <th scope="col" class="text-right" style="width:35% !important">Avg Time as IT</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>
                        </table>
                    </div>-->
                </div>
            </div>
            <div class="row">
                <div class="col-md-5" >
                    <div class="chart-holder" id="mosttagDiv">
                        <canvas id="mosttagChart"></canvas>
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="table-responsive-md">
                        <table id="detailTable" class="table table-hovered table-responsive-md table-striped shadow">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col" style="width:10% !important">ID</th>
                                    <th scope="col" style="width:24% !important">Player</th>
                                    <th scope="col" class="text-right" style="width:22% !important">Time as IT</th>
                                    <th scope="col" class="text-right" style="width:22% !important">Avg Time as IT</th>
                                    <th scope="col" class="text-right" style="width:22% !important">Times Tagged</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>
                        </table>
                    </div>
                    <!--<div class="table-responsive-md">
                        <table id="mosttagTable" class="table table-hovered table-responsive-md table-striped shadow">
                            <thead class="thead-dark">
                                <tr>
                                    <th scope="col" style="width:10% !important">Rank</th>
                                    <th scope="col" style="width:55% !important">Player</th>
                                    <th scope="col" class="text-right" style="width:35% !important">Times Tagged</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>
                        </table>
                    </div>-->
                </div>
            </div>
    </main>

</div>
</div>

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo= sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh sha512-bnIvzh6FU75ZKxp0GXLH9bewza/OIw6dLVh9ICg0gogclmYGguQJWl8U30WpbsGTqbIiAwxTsbe76DErLq5EDQ==" crossorigin="anonymous"></script>

<!-- Google Charts js files -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<!-- Chart.js files -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" integrity="sha256-Uv9BNBucvCPipKQ2NS9wYpJmi8DTOEfTA/nH2aoJALw=" crossorigin="anonymous"></script>

<!-- feather icons javascript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.21.0/feather.min.js" integrity="sha256-qBd447qJjlY5iM+wziRXC/fp1ZS/VF7b0pXn8iANAps=" crossorigin="anonymous"></script>

<!-- moment.js library (used for time computations) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js" integrity="sha256-4iQZ6BVL4qNKlQ27TExEhBN1HFPvAvAMbFavKKosSWQ=" crossorigin="anonymous"></script>

<!-- General Analytics functions -->
<script src="/javascripts/analytics.js"></script>

<!-- Analytics Sidebar javascript -->
<script src="/javascripts/analytics-sidebar.js"></script>

<!-- Dashboard-specific javascript -->
<script src="/javascripts/analytics-dashboard.js"></script>

<% include partials/footer.ejs%>